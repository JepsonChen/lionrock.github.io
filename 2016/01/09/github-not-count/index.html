<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Github为什么没有记录你的的Contributions | 黎浔的个人博客</title>
  
  
      <meta name="keywords" content="黎浔,博客,个人博客,技术博客,移动互联网,前端,Leo,JavaScript" />
  

  <meta name="google-site-verification" content="NY0Rc-yGHSUp72PJf0xpi8QUltS3Oarm_5ZcQ3Hek1g" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta name="description" content="最近在给同学看我的github时，突然发现我的Contribution Graph上一篇空白居然只有两三个小绿块，因为自己平时在公司工作的记录会显示在自己的Contribution Graph上，所以一直没发现个人repo的commit记录都没有被记录，于是外事不决问Google，发现原来是因为git初始化设定时没有设定正确的用户名和邮箱（主要是邮箱），具体可以参考Github官方写的help文档">
<meta property="og:type" content="article">
<meta property="og:title" content="Github为什么没有记录你的的Contributions">
<meta property="og:url" content="http://lionrock.github.io/2016/01/09/github-not-count/index.html">
<meta property="og:site_name" content="黎浔的个人博客">
<meta property="og:description" content="最近在给同学看我的github时，突然发现我的Contribution Graph上一篇空白居然只有两三个小绿块，因为自己平时在公司工作的记录会显示在自己的Contribution Graph上，所以一直没发现个人repo的commit记录都没有被记录，于是外事不决问Google，发现原来是因为git初始化设定时没有设定正确的用户名和邮箱（主要是邮箱），具体可以参考Github官方写的help文档">
<meta property="og:updated_time" content="2016-01-10T09:53:02.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Github为什么没有记录你的的Contributions">
<meta name="twitter:description" content="最近在给同学看我的github时，突然发现我的Contribution Graph上一篇空白居然只有两三个小绿块，因为自己平时在公司工作的记录会显示在自己的Contribution Graph上，所以一直没发现个人repo的commit记录都没有被记录，于是外事不决问Google，发现原来是因为git初始化设定时没有设定正确的用户名和邮箱（主要是邮箱），具体可以参考Github官方写的help文档">
  
    <link rel="alternative" href="/atom.xml" title="黎浔的个人博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
    <link rel="short icon" href="/favicon.ico">
  
  
    <link rel="apple-touch-icon" href="/assets/img/appleicon.png">
   
  <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="/assets/img/avatar.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Xun Li</a></h1>
		</hgroup>

		
		<p class="header-subtitle">Stay hungry, Stay foolish</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
					        
								<a class="github" target="_blank" href="https://github.com/lionrock" title="github">github</a>
					        
								<a class="mail" target="_blank" href="/xunli007@iCloud.com" title="mail">mail</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Github/" style="font-size: 10px;">Github</a> <a href="/tags/Mac/" style="font-size: 10px;">Mac</a> <a href="/tags/产品/" style="font-size: 10px;">产品</a> <a href="/tags/博客/" style="font-size: 10px;">博客</a> <a href="/tags/设计/" style="font-size: 10px;">设计</a> <a href="/tags/随想/" style="font-size: 20px;">随想</a> <a href="/tags/面试/" style="font-size: 10px;">面试</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://macshuo.com/">Mactalk</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.ruanyifeng.com/">阮一峰的网络日志</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://blog.devtang.com/">唐巧的技术博客</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">Web全栈开发工程师，热爱新奇酷，关注科技与人文</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Xun Li</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="/assets/img/avatar.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">Xun Li</h1>
			</hgroup>
			
			<p class="header-subtitle">Stay hungry, Stay foolish</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
			        
						<a class="github" target="_blank" href="https://github.com/lionrock" title="github">github</a>
			        
						<a class="mail" target="_blank" href="/xunli007@iCloud.com" title="mail">mail</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-github-not-count" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/09/github-not-count/" class="article-date">
  	<time datetime="2016-01-09T15:54:29.000Z" itemprop="datePublished">2016-01-09</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Github为什么没有记录你的的Contributions
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Github/">Github</a></li></ul>
	</div>

        

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>最近在给同学看我的github时，突然发现我的Contribution Graph上一篇空白居然只有两三个小绿块，因为自己平时在公司工作的记录会显示在自己的Contribution Graph上，所以一直没发现个人repo的commit记录都没有被记录，于是外事不决问Google，发现原来是因为git初始化设定时没有设定正确的用户名和邮箱（主要是邮箱），具体可以参考Github官方写的help文档</p>
</blockquote>
<h2 id="为什么你的_Contributions_没有在你的_Profile_里显示？">为什么你的 Contributions 没有在你的 Profile 里显示？</h2><p>那么问题来了，什么是Contribution呢，Github官网上有这么一句话：</p>
<blockquote>
<p>Your profile contributions graph is a record of contributions you’ve made to GitHub repositories. Contributions are only counted if they meet certain criteria. In some cases, we may need to rebuild your graph in order for contributions to appear.</p>
</blockquote>
<h2 id="如何排查">如何排查</h2><p>你可以在你的本地repo里用<code>git log</code>命令查看commit记录上的个人邮箱是否正确，像我就是因为之前切换到Mac平台开发之后用户名没有配置，所以我之后的commit记录上的邮箱一直是<code>Leo@Leo-MacBook-Pro.local</code>，所以Github就会认为这些commit都不是你提交的！</p>
<h2 id="补救措施">补救措施</h2><p>然而这也并不是没有补救办法的，Github官网上就有给出详细的补救过程，英语好的同学请自行移步 <a href="https://help.github.com/articles/changing-author-info/" target="_blank" rel="external">Changing author info</a></p>
<p>下面是我翻译自Github Help的简要步骤：</p>
<blockquote>
<p><strong>改变作者信息</strong></p>
<p>为改变已经存在的 commit 的用户名和/或邮箱地址，你必须重写你 Git repo 的整个历史。</p>
<blockquote>
<p><strong>警告：</strong> 这种行为对你的 repo 的历史具有破坏性。如果你的 repo 是与他人协同工作的，重写已发布的历史是一种不好的习惯。仅限紧急情况执行该操作。<br>使用脚本改变你 repo 的 Git 历史<br>我们写了一段能把 commit 作者旧的邮箱地址修改为正确用户名和邮箱的脚本。</p>
</blockquote>
<p><strong>使用脚本来改变某个repo的Git历史</strong></p>
<p>我们已经创建了一个脚本，使用正确的姓名和电子邮件地址提交后，你以前提交的所有的commits中的作者信息及提交者字段中的旧的用户名和邮箱地址都将被更正</p>
<blockquote>
<p><strong>注意：</strong> 执行这段脚本会重写 repo 所有协作者的历史。完成以下操作后，任何 fork 或 clone 的人必须获取重写后的历史并把所有本地修改 rebase 入重写后的历史中。<br>在执行这段脚本前，你需要准备的信息：</p>
</blockquote>
<ol>
<li><p>Mac、Linux下打开Terminal，Windows下打开命令提示符（command prompt）</p>
</li>
<li><p>给你的repo创建一个全新的clone</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="keyword">clone</span> <span class="title">--bare</span> https://github.com/user/repo.git</span><br><span class="line">cd repo.git</span><br></pre></td></tr></table></figure>
</li>
<li><p>复制粘贴脚本，并根据你的信息修改以下变量：<br><code>旧的Email地址</code>，<br><code>正确的用户名</code>，<br><code>正确的邮件地址</code></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh&#10;git filter-branch --env-filter &#39;&#10;OLD_EMAIL=&#34;&#26087;&#30340;Email&#22320;&#22336;&#34;&#10;CORRECT_NAME=&#34;&#27491;&#30830;&#30340;&#29992;&#25143;&#21517;&#34;&#10;CORRECT_EMAIL=&#34;&#27491;&#30830;&#30340;&#37038;&#20214;&#22320;&#22336;&#34;&#10;if [ &#34;$GIT_COMMITTER_EMAIL&#34; = &#34;$OLD_EMAIL&#34; ]&#10;then&#10;    export GIT_COMMITTER_NAME=&#34;$CORRECT_NAME&#34;&#10;    export GIT_COMMITTER_EMAIL=&#34;$CORRECT_EMAIL&#34;&#10;fi&#10;if [ &#34;$GIT_AUTHOR_EMAIL&#34; = &#34;$OLD_EMAIL&#34; ]&#10;then&#10;    export GIT_AUTHOR_NAME=&#34;$CORRECT_NAME&#34;&#10;    export GIT_AUTHOR_EMAIL=&#34;$CORRECT_EMAIL&#34;&#10;fi&#10;&#39; --tag-name-filter cat -- --branches --tags</span><br></pre></td></tr></table></figure>
</li>
<li><p>按 <code>Enter键</code> 执行脚本。</p>
</li>
<li><p>用<code>git log</code>命令看看新 Git 历史有没有错误</p>
</li>
<li><p>把正确历史 push 到 Github</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push --force --tags origin &#39;refs/heads/*&#39;</span><br></pre></td></tr></table></figure>
</li>
<li><p>删掉杠杠临时创建的 clone</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ..&#10;rm -rf repo.git</span><br></pre></td></tr></table></figure>
</li>
</ol>
</blockquote>
<h3 id="如何正确设置你的_git_个人信息">如何正确设置你的 git 个人信息</h3><p>接下来全局设置好你的正确信息，以后就放心的用Github进行版本管理吧 <code>^_^</code><br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.email &#34;&#20320;&#30340;&#37038;&#20214;&#22320;&#22336;&#34;&#10;git config --global user.name &#34;&#20320;&#30340;Github&#29992;&#25143;&#21517;&#34;</span><br></pre></td></tr></table></figure></p>
<p>参考：</p>
<ol>
<li><a href="https://help.github.com/articles/why-are-my-contributions-not-showing-up-on-my-profile/" target="_blank" rel="external">Why are my contributions not showing up on my profile?</a></li>
</ol>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2015/12/31/beginning-mac-osx/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">把时间浪费在美好的事物上 - 写给程序员的Mac OS X入门指南</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>


<div class="share">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">分享到：</span>
		<a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
		<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>





</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Xun Li
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: true
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-70795748-1', 'auto');
  ga('send', 'pageview');
</script>


<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>